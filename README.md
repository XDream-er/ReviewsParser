# Reviews Parser

Это клиент-серверная ситема для парсинга отзывов с веб-сайтов. Система состоит из трех компонентов:
1.  **API-сервер (ASP.NET Core):** управляет задачами и сохранением результатов в базе данных SQLite;
2.  **Агент (Console App):** запрашивает задачи у API и выполняет парсинг;
3.  **Панель управления (WPF):** управляет статусом/состоянием задач и запуском агентов.

## Ключевые возможности/функционал

- Вомзожность запуска нескольких агентов одновременно;
- Возможность поставить задачи на паузу и их возобновления с сохранением прогресса;
- Возможность экспортировать данные в формат CSV.

![Панель управления](1.png)

![Агент](2.png)

![Swagger](3.png)

![Экспортированные данные](4.png)
---

## Текущий статус

**Система находится в разработке.** 
На данный момент реализован вышеуказанный функционал, но есть также и недочёты с последующей планипруемой доработкой:

*   Реализован парсер только для `drom.ru`;
*   Парсинг реализован на уровне DOM-модели (с помощью `HtmlAgilityPack`). Планируется добавить поддержку `Selenium` а так же регулярные выражения;
*   Агенты забирают первую доступную задачу из общей очереди. Планируется добавить возможность назначать конкретную задачу конкретному агенту;
*   Не реализована поддержка прокси. Планируется доб.

---

## Инструменты и технологии

- **Бэкенд:** C#, .NET 8, ASP.NET Core Web API
- **База данных:** SQLite
- **Клиент (Админка):** WPF
- **Агент:** Console Application

## Используемые библиотеки (NuGet)

### API-сервер (`ReviewsParser.Api`)
- `Microsoft.EntityFrameworkCore.Sqlite`: Поддержка базы данных SQLite.
- `Microsoft.EntityFrameworkCore.Tools` & `.Design`: Инструменты для создания и применения миграций базы данных.
- `Swashbuckle.AspNetCore`: Cоздаёт Swagger-интерфейс для работы с API.

### Агент (`ReviewsParser.Agent`)
- `HtmlAgilityPack`: Библиотека для парсинга HTML-документов.
- `Newtonsoft.Json`: Библиотека для работы с JSON.

### Панель управления (`ReviewsParser.Admin`)
- `CsvHelper`: Библиотека для экспорта данных в CSV-файлы.
- `Microsoft.Xaml.Behaviors.Wpf`: Позволяет использовать расширенные возможности XAML (вызов команд по событиям).

---

## Предупреждение о SSL-сертификате

При первом запуске проекта используется локальный самоподписанный SSL-сертификат, чтобы обеспечить работу HTTPS. Операционная система может не доверять этому сертификату по умолчанию, что приведет к ошибкам SSL-соединения при попытке Агента связаться с API.
